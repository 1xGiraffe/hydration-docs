<!doctype html>
<html lang="de" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/de/blog/rss.xml" title="HydraDX Docs Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/de/blog/atom.xml" title="HydraDX Docs Blog Atom Feed"><title data-react-helmet="true">Node Monitoring | HydraDX Docs</title><meta data-react-helmet="true" property="og:url" content="https://docs.hydradx.io/de/node_monitoring"><meta data-react-helmet="true" name="docusaurus_locale" content="de"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Node Monitoring | HydraDX Docs"><meta data-react-helmet="true" name="description" content="In diesem Kapitel durchlaufen wir den Einrichtungsprozess eines lokalen Monoitoring-Systems der Validator Node."><meta data-react-helmet="true" property="og:description" content="In diesem Kapitel durchlaufen wir den Einrichtungsprozess eines lokalen Monoitoring-Systems der Validator Node."><link data-react-helmet="true" rel="shortcut icon" href="/de/img/favicon.png"><link data-react-helmet="true" rel="canonical" href="https://docs.hydradx.io/de/node_monitoring"><link data-react-helmet="true" rel="alternate" href="https://docs.hydradx.io/node_monitoring" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://docs.hydradx.io/de/node_monitoring" hreflang="de"><link data-react-helmet="true" rel="alternate" href="https://docs.hydradx.io/ru/node_monitoring" hreflang="ru"><link data-react-helmet="true" rel="alternate" href="https://docs.hydradx.io/es/node_monitoring" hreflang="es"><link data-react-helmet="true" rel="alternate" href="https://docs.hydradx.io/fr/node_monitoring" hreflang="fr"><link data-react-helmet="true" rel="alternate" href="https://docs.hydradx.io/cn/node_monitoring" hreflang="cn"><link data-react-helmet="true" rel="alternate" href="https://docs.hydradx.io/node_monitoring" hreflang="x-default"><link rel="stylesheet" href="/de/assets/css/styles.c09fcbad.css">
<link rel="preload" href="/de/assets/js/runtime~main.ee914b66.js" as="script">
<link rel="preload" href="/de/assets/js/main.8e1790c5.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Zum Hauptinhalt springen</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/de/"><img src="/de/img/logo.svg" alt="HydraDX logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/de/img/logo.svg" alt="HydraDX logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">HydraDX Dokumentation</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/de/">Doku</a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" class="navbar__item navbar__link"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Deutsch</span></span></a><ul class="dropdown__menu"><li><a href="/node_monitoring" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">English</a></li><li><a href="/de/node_monitoring" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" style="text-transform:capitalize">Deutsch</a></li><li><a href="/ru/node_monitoring" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">русский</a></li><li><a href="/es/node_monitoring" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">español</a></li><li><a href="/fr/node_monitoring" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">français</a></li><li><a href="/cn/node_monitoring" target="_self" rel="noopener noreferrer" class="dropdown__link" style="text-transform:capitalize">中文</a></li></ul></div><a href="https://hydradx.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">HydraDX Webseite</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/de/"><img src="/de/img/logo.svg" alt="HydraDX logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/de/img/logo.svg" alt="HydraDX logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><strong class="navbar__title">HydraDX Dokumentation</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/de/">Doku</a></li><li class="menu__list-item menu__list-item--collapsed"><a href="#" role="button" class="menu__link menu__link--sublist"><span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" width="20" height="20" style="vertical-align:text-bottom;margin-right:5px"><path fill="currentColor" d="M19.753 10.909c-.624-1.707-2.366-2.726-4.661-2.726-.09 0-.176.002-.262.006l-.016-2.063 3.525-.607c.115-.019.133-.119.109-.231-.023-.111-.167-.883-.188-.976-.027-.131-.102-.127-.207-.109-.104.018-3.25.461-3.25.461l-.013-2.078c-.001-.125-.069-.158-.194-.156l-1.025.016c-.105.002-.164.049-.162.148l.033 2.307s-3.061.527-3.144.543c-.084.014-.17.053-.151.143.019.09.19 1.094.208 1.172.018.08.072.129.188.107l2.924-.504.035 2.018c-1.077.281-1.801.824-2.256 1.303-.768.807-1.207 1.887-1.207 2.963 0 1.586.971 2.529 2.328 2.695 3.162.387 5.119-3.06 5.769-4.715 1.097 1.506.256 4.354-2.094 5.98-.043.029-.098.129-.033.207l.619.756c.08.096.206.059.256.023 2.51-1.73 3.661-4.515 2.869-6.683zm-7.386 3.188c-.966-.121-.944-.914-.944-1.453 0-.773.327-1.58.876-2.156a3.21 3.21 0 011.229-.799l.082 4.277a2.773 2.773 0 01-1.243.131zm2.427-.553l.046-4.109c.084-.004.166-.01.252-.01.773 0 1.494.145 1.885.361.391.217-1.023 2.713-2.183 3.758zm-8.95-7.668a.196.196 0 00-.196-.145h-1.95a.194.194 0 00-.194.144L.008 16.916c-.017.051-.011.076.062.076h1.733c.075 0 .099-.023.114-.072l1.008-3.318h3.496l1.008 3.318c.016.049.039.072.113.072h1.734c.072 0 .078-.025.062-.076-.014-.05-3.083-9.741-3.494-11.04zm-2.618 6.318l1.447-5.25 1.447 5.25H3.226z"></path></svg><span>Languages</span></span></a><ul class="menu__list"><li class="menu__list-item"><a href="/node_monitoring" target="_self" rel="noopener noreferrer" class="menu__link" style="text-transform:capitalize">English</a></li><li class="menu__list-item"><a href="/de/node_monitoring" target="_self" rel="noopener noreferrer" class="menu__link dropdown__link--active" style="text-transform:capitalize">Deutsch</a></li><li class="menu__list-item"><a href="/ru/node_monitoring" target="_self" rel="noopener noreferrer" class="menu__link" style="text-transform:capitalize">русский</a></li><li class="menu__list-item"><a href="/es/node_monitoring" target="_self" rel="noopener noreferrer" class="menu__link" style="text-transform:capitalize">español</a></li><li class="menu__list-item"><a href="/fr/node_monitoring" target="_self" rel="noopener noreferrer" class="menu__link" style="text-transform:capitalize">français</a></li><li class="menu__list-item"><a href="/cn/node_monitoring" target="_self" rel="noopener noreferrer" class="menu__link" style="text-transform:capitalize">中文</a></li></ul></li><li class="menu__list-item"><a href="https://hydradx.io" target="_blank" rel="noopener noreferrer" class="menu__link">HydraDX Webseite</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><div class="docSidebarContainer_3Kbt" role="complementary"><div class="sidebar_15mo"><div class="menu menu--responsive thin-scrollbar menu_Bmed"><button aria-label="Menü öffenen" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_fgN0" width="24" height="24" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Intro</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/">Erste Schritte</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/snakenet">Snakenet</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/new_deal">Contribute and Get Rewarded</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">How-to</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/create_account">Create a new HDX Account</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/claim">HDX beanspruchen</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/start_nominating">Werde ein Nominator</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/start_validating">Validierung starten</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/identity">Identität festlegen</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/staking_claim_rewards">Beanspruchen Ihrer Staking Rewards</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/tip_request">Request a Treasury Tip</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/participate_in_referenda">Participate in Referenda</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/participate_in_council_elections">Participate in Council Elections</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Mit einer Node verbinden</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/polkadotjs_apps_local">Mit einer lokalen Node verbinden</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/polkadotjs_apps_public">Mit einer öffentlichen Node verbinden</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Lernen</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/staking">Staking</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/staking_rewards">Staking Rewards</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Democracy</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/democracy_intro">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/democracy_referenda">Referenda</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/democracy_council">HydraDX Council</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/democracy_technical_committee">Technical Committee</a></li></ul></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Verwalten</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/de/node_setup">Eine HydraDX Node einrichten</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/de/performance_benchmark">Leistungs-Benchmark</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/de/node_monitoring">Node Monitoring</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Bauen</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/dev_intro">Intro to Development</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/build_dev_chain">Einrichten einer Dev-Chain</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/dev_pools">AMM Pools</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/dev_primitives">Primitives Crate</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/dev_math">HydraDX Math Crate</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!" tabindex="-1">Pallets</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/dev_pallets">Intro</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/registry">Asset Registry</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/xyk">XYK Pallet</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/dev_pallet_hdx">HDX Pallet</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/dev_pallet_exchange">Exchange</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/dev_pallet_payment">Transaction Multi-Payment</a></li></ul></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/dev_exercise">Practical exercise</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Beitragen</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/de/contributing">Writing Docs</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3ufF"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Node Monitoring</h1></header><div class="markdown"><p>In diesem Kapitel durchlaufen wir den Einrichtungsprozess eines lokalen Monoitoring-Systems der Validator Node.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="prerequisites"></a>Prerequisites<a class="hash-link" href="#prerequisites" title="Direkter Link zur Überschrift">#</a></h2><p>Sie müssen Ihre <a href="/de/node_setup">Validator Node</a> fertig eingerichtet und aktiv haben.<br>
Dieser Guide wurde unter dem Ubuntu 20.04 LTS Release getestet.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="prometheus-setup"></a>Prometheus Setup<a class="hash-link" href="#prometheus-setup" title="Direkter Link zur Überschrift">#</a></h2><p>Im ersten Schritt werden wir den Prometheus Server einrichten.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="user-and-directories"></a>Benutzer und Ordner<a class="hash-link" href="#user-and-directories" title="Direkter Link zur Überschrift">#</a></h3><p>Sie erstellen einen separaten Benutzer für die Überwachungszwecke, für den kein Home-Verzeichnis angelegt wird und der sich nicht einloggen kann.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">useradd</span><span class="token plain"> --no-create-home --shell /usr/sbin/nologin prometheus</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><p>Als nächstes erstellen Sie Verzeichnisse für die ausführbaren Dateien und die Konfigurationsdateien.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> /etc/prometheus</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">mkdir</span><span class="token plain"> /var/lib/prometheus</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><p>Ändern Sie den Eigentümer der Verzeichnisse auf den neu erstellten Benutzer.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">chown</span><span class="token plain"> -R prometheus:prometheus /etc/prometheus</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">chown</span><span class="token plain"> -R prometheus:prometheus /var/lib/prometheus</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="install-prometheus"></a>Prometheus installieren<a class="hash-link" href="#install-prometheus" title="Direkter Link zur Überschrift">#</a></h3><p>Schauen Sie nach der aktuellsten Version auf der <a href="https://github.com/prometheus/prometheus/releases/" target="_blank" rel="noopener noreferrer">GitHub Release Seite</a>.<br>
Zum Zeitpunkt der Veröffentlichung ist dies v2.25.2. Setzen Sie die aktuellste Version in die folgenden Befehle ein.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># download prometheus</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">wget</span><span class="token plain"> https://github.com/prometheus/prometheus/releases/download/v2.25.2/prometheus-2.25.2.linux-amd64.tar.gz</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># unpack the binaries</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">tar</span><span class="token plain"> xfz prometheus-*.tar.gz</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># enter the unpacked directory</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> prometheus-2.25.2.linux-amd64</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><p>Nun kopieren Sie die Binaries in das lokale Verzeichnis.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> ./prometheus /usr/local/bin/</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> ./promtool /usr/local/bin/</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><p>Als Besitzer der Dateien wird ebenfalls unser neuer Benutzer gesetzt.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">chown</span><span class="token plain"> prometheus:prometheus /usr/local/bin/prometheus</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">chown</span><span class="token plain"> prometheus:prometheus /usr/local/bin/promtool</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><p>Danach kopieren Sie die Benutzeroberfläche und die Konfigurationsdateien.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> -r ./consoles /etc/prometheus</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> -r ./console_libraries /etc/prometheus</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><p>Sie ahnen es sicher bereits, doch wir müssen mal wieder die Benutzer der Verzeichnisse ändern.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">chown</span><span class="token plain"> -R prometheus:prometheus /etc/prometheus/consoles</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">chown</span><span class="token plain"> -R prometheus:prometheus /etc/prometheus/console_libraries</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><p>Sie haben nun alles, was Sie aus dem heruntergeladenen Paket benötigen, also navigieren Sie einen Schritt zurück und räumen etwas auf.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">cd</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">..</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> -rf prometheus*</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><p>Nun erstellen Sie eine <code>YAML</code>-Komnfigurationsdatei für Prometheus mit einem Editor Ihrer Wahl (nano / vim / pico).</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">nano</span><span class="token plain"> /etc/prometheus/prometheus.yml</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><p>Die Konfigurationsdatei ist in drei Bereiche gegliedert:</p><ul><li><code>global</code>: setzt die Standardwerte für das Abtastungsintervall <code>scrape_interval</code> und das Ausführungsintervall der Regeln <code>evaluation_interval</code></li><li><code>rule_files</code>: legt die Regel-Dateien fest, die Prometheus laden soll</li><li><code>scrape_configs</code>: hier wird festgelegt welche Resourcen überwacht werden sollen</li></ul><p>Wir werden uns auf die Grundsätze beschränken und folgende Konfiguration erstellen:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><div tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token key atrule">global</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">scrape_interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 15s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token key atrule">evaluation_interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 15s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">rule_files</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># - &quot;weHaveNo.rules&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token key atrule">scrape_configs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">job_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;prometheus&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">scrape_interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 5s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">static_configs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">targets</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;localhost:9090&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">job_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;substrate_node&quot;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">scrape_interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 5s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">static_configs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">targets</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&quot;localhost:9615&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><p>Der erste Job exportiert Daten von Prommetheus selbst, der zweite exportiert die Metriken der HydraDX Node.
Wir ändern das <code>scrape_interval</code> beider Jobs um ein detaillierteres Dashboard zu erstellen. Dies überschreibt die globalen Variablen.
Das <code>target</code> in <code>static_configs</code> legt fest, wo die Exporter laufen, wir belassen dies bei den Standardwerten.</p><p>Nachdem die Konfiguration gespeichert wurde, wird erneut der Besitzer geändert.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">chown</span><span class="token plain"> prometheus:prometheus /etc/prometheus/prometheus.yml</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="starting-prometheus"></a>Prometheus starten<a class="hash-link" href="#starting-prometheus" title="Direkter Link zur Überschrift">#</a></h3><p>Damit Prometheus automatisch startet und im Hintergrund läuft werden wir <code>systemd</code> verwenden.
Erstellen Sie eine neue Konfiguration (wieder mit einem Editor Ihrer Wahl):</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">nano</span><span class="token plain"> /etc/systemd/system/prometheus.service</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><p>Fügen Sie folgende Konfiguration ein und speichern sie ab.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[Unit]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Description=Prometheus Monitoring</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Wants=network-online.target</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  After=network-online.target</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[Service]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  User=prometheus</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Group=prometheus</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Type=simple</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ExecStart=/usr/local/bin/prometheus \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  --config.file /etc/prometheus/prometheus.yml \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  --storage.tsdb.path /var/lib/prometheus/ \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  --web.console.templates=/etc/prometheus/consoles \</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  --web.console.libraries=/etc/prometheus/console_libraries</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  ExecReload=/bin/kill -HUP $MAINPID</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[Install]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  WantedBy=multi-user.target</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><p>Danach führen Sie die drei folgenden Schritte aus:
<code>systemctl deamon-reload</code> lädt neue Konfigurationen und aktualisiert die bestehende
<code>systemctl enable</code> aktiviert Ihren neuen Service
<code>systemctl start</code> startet den Service</p><p>Hiermit können Sie alle drei Befehle in einer Zeile ausführen:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl daemon-reload </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> systemctl </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">enable</span><span class="token plain"> prometheus </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> systemctl start prometheus</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><p>Sie sollten nun in der Lage sein die Benutzeroberfläche von Prometheus unter http://localhost:9090/ aufzurufen.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="node-exporter"></a>Node Exporter<a class="hash-link" href="#node-exporter" title="Direkter Link zur Überschrift">#</a></h2><p>Wir werden Node Exporter installieren um Hardware-Werte für das Dashboard abzugreifen.
Bitte schauen Sie <a href="https://github.com/prometheus/node_exporter/releases/" target="_blank" rel="noopener noreferrer">hier</a> nach, welches die aktuellste Version ist und ersetzen die Versionsnummer im folgenden Befehl.<br>
Zum Veröffentlichungszeitpunkt war die aktuellste Version <code>1.1.2</code>.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="install-node-exporter"></a>Node Exporter installieren<a class="hash-link" href="#install-node-exporter" title="Direkter Link zur Überschrift">#</a></h3><p>Laden Sie die neuste Version herunter.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">wget</span><span class="token plain"> https://github.com/prometheus/node_exporter/releases/download/v1.1.2/node_exporter-1.1.2.linux-amd64.tar.gz</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><p>Entpacken Sie das eben heruntergeladene Paket. Dadurch wird ein Verzeichnis mit dem Namen <code>node_exporter-1.1.2.linux-amd64</code> erstellt.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">tar</span><span class="token plain"> xvf node_exporter-1.1.2.linux-amd64.tar.gz</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><p>Als Nächstes kopieren Sie die Binary in das lokale Applikationsverzeichnis und weisen es dem entsprechenden Benutzer zu.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># copy binary</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">cp</span><span class="token plain"> node_exporter-1.1.2.linux-amd64/node_exporter /usr/local/bin</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"># set ownership</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">chown</span><span class="token plain"> prometheus:prometheus /usr/local/bin/node_exporter</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><p>Sie können etwas aufräumen und das heruntergeladene Paket und die entpackten Dateien entfernen.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">rm</span><span class="token plain"> -rf node_exporter*</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="create-a-systemd-service"></a>Einen Systemd Service erstellen<a class="hash-link" href="#create-a-systemd-service" title="Direkter Link zur Überschrift">#</a></h3><p>Genau wie bei Prometheus starten Sie Node Exporter als Service im Hintergrund.
Erstellen Sie einen systemd Service mit einem Editor Ihrer Wahl.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">nano</span><span class="token plain"> /etc/systemd/system/node_exporter.service</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><p>Und fügen Sie folgende Konfiguration ein.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><div tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">[Unit]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Description=Node Exporter</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Wants=network-online.target</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">After=network-online.target</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[Service]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">User=prometheus</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Group=prometheus</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">Type=simple</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">ExecStart=/usr/local/bin/node_exporter</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">[Install]</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">WantedBy=multi-user.target</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><p>Aktivieren und starten Sie den Service mit folgendem Einzeiler.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl daemon-reload </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> systemctl </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">enable</span><span class="token plain"> node_exporter </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> systemctl start node_exporter</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="add-scrape-job-for-node-exporter"></a>Scrape Job für Node Exporter hinzufügen<a class="hash-link" href="#add-scrape-job-for-node-exporter" title="Direkter Link zur Überschrift">#</a></h3><p>Der Node Exporter ist nun einsatzbereit, Sie müssen Prometheus jedoch noch anleiten die Daten zu erheben.
Öffnen Sie die Konfiguration mit einem beliebigen Editor.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">nano</span><span class="token plain"> /etc/prometheus/prometheus.yml</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><p>Fügen Sie ganz unten am Ende der Datei eine weitere Scrape-Konfiguration ein.
Kopieren Sie folgenden Codeblock hinein und speichern die Datei.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly yaml"><div tabindex="0" class="prism-code language-yaml codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">job_name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;node_exporter&#x27;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">scrape_interval</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> 5s</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token key atrule">static_configs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">targets</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;localhost:9100&#x27;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><p>Um die neue Konfiguration anzuwenden muss der Prometheus Service neugestartet werden.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl restart prometheus.service </span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><p>Ihre Server-Metriken werden nun ausgelesen und können in der Prometheus Benutzeroberfläche eingesehen werden.
Sie werden sie später für das Dashboard benötigen.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="grafana-setup"></a>Grafana Setup<a class="hash-link" href="#grafana-setup" title="Direkter Link zur Überschrift">#</a></h2><p>Sie können die Daten in der Benutzeroberfläche sehen, das war jedoch nicht das Ziel dieser Anleitung.
Wir möchten die Daten hübsch angezeigt bekommen und da kommt Grafana ins Spiel.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="install-grafana"></a>Grafana installieren<a class="hash-link" href="#install-grafana" title="Direkter Link zur Überschrift">#</a></h3><p>Bitte überprüfen Sie mit <a href="https://grafana.com/grafana/download?platform=linux" target="_blank" rel="noopener noreferrer">diesem Link</a>, welches die neuste Version von Grafana ist.
Sie können entweder die Versionsnummer in folgendem Befehl anpassen oder die Befehle aus der verlinkten Seite kopieren und direkt benutzen.
Zum Veröffentlichungszeitpunkt war die aktuellste Version <code>7.5.1</code>.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">apt-get</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">install</span><span class="token plain"> -y adduser libfontconfig1</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">wget</span><span class="token plain"> https://dl.grafana.com/oss/release/grafana_7.5.1_amd64.deb</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> dpkg -i grafana_7.5.1_amd64.deb</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><p>Das Paket enthält einen fertigen <code>systemd</code>-Service, welchen Sie direkt verwenden können.</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly shell"><div tabindex="0" class="prism-code language-shell codeBlock_23N8 thin-scrollbar"><div class="codeBlockLines_39YC" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">$ </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl daemon-reload </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl </span><span class="token builtin class-name" style="color:rgb(255, 203, 107)">enable</span><span class="token plain"> grafana-server </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">sudo</span><span class="token plain"> systemctl start grafana-server</span></div></div></div><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o">Kopieren</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="accessing-the-web-interface"></a>Die Benutzeroberfläche aufrufen<a class="hash-link" href="#accessing-the-web-interface" title="Direkter Link zur Überschrift">#</a></h3><p>Sie können die Benutzeroberfläche von Grafana nun unter http://localhost:3000/ aufrufen.
Die standardmäßigen Login-Daten für Grafana sind:<br>
Benutzer: <code>admin</code><br>
Passwort: <code>admin</code>  </p><div style="text-align:center"><img src="/de/node-monitoring/grafana-home.png"></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="configuring-the-datasource"></a>Die Datenquelle konfigurieren<a class="hash-link" href="#configuring-the-datasource" title="Direkter Link zur Überschrift">#</a></h3><p>Bitte klicken Sie das Einstellungs-Zahnrad im Menü und wählen <code>Datasources</code>.
Im nächsten Fenster klicken Sie <code>Add Datasource</code> und wählen Sie <code>Prometheus</code>.</p><p>Im nachfolgenden Formular müssen Sie nichts ändern außer die URL.
Stellen Sie <code>http://localhost:9090/</code> ein und klicken <code>Save and Test</code>.  </p><div style="text-align:center"><img src="/de/node-monitoring/grafana-datasource.png"></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="importing-the-dashboard"></a>Das Dashboard importieren<a class="hash-link" href="#importing-the-dashboard" title="Direkter Link zur Überschrift">#</a></h3><p>Bitte klicken Sie den <code>Plus</code>-Button im Hauptmenü und wählen <code>import</code>.</p><div style="text-align:center"><img src="/de/node-monitoring/grafana-import.png"></div><p>Sie können das <a href="https://grafana.com/grafana/dashboards/14158" target="_blank" rel="noopener noreferrer">HydraDX Dashboard</a> nutzen und um es zu laden geben Sie einfach die ID <code>14158</code> ein und klicken auf <code>Load</code>.</p><div style="text-align:center"><img src="/de/node-monitoring/grafana-import-options.png"></div><p>Hier müssen Sie nicht viel einstellen, vergewissern Sie sich lediglich, dass <code>Prometheus</code> als <code>Datasource</code> eingestellt ist.
Sie können den Importvorgang nun abschließen.</p><div style="text-align:center"><img src="/de/node-monitoring/grafana-dashboard.png"></div><p>Sie sollten das Dashboard sofort mit ihren Daten sehen.
Falls einzelne Panele leer sind, vergewissern Sie sich bitte, dass die Auswahlfelder ganz oben folgende Werte enthalten:</p><ul><li><code>Chain Metrics</code>: Substrate  </li><li><code>Chain Instance</code>: localhost:9615  </li><li><code>Server Job</code>: node_exporter  </li><li><code>Server Host</code>: localhost:9100</li></ul></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/galacticcouncil/HydraDX-docs/edit/main/docs/node_monitoring.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Diese Seite bearbeiten</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Dokumentation Seiten Navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/de/performance_benchmark"><div class="pagination-nav__sublabel">Zurück</div><div class="pagination-nav__label">« Leistungs-Benchmark</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/de/dev_intro"><div class="pagination-nav__sublabel">Weiter</div><div class="pagination-nav__label">Intro to Development »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#prerequisites" class="table-of-contents__link">Prerequisites</a></li><li><a href="#prometheus-setup" class="table-of-contents__link">Prometheus Setup</a><ul><li><a href="#user-and-directories" class="table-of-contents__link">Benutzer und Ordner</a></li><li><a href="#install-prometheus" class="table-of-contents__link">Prometheus installieren</a></li><li><a href="#starting-prometheus" class="table-of-contents__link">Prometheus starten</a></li></ul></li><li><a href="#node-exporter" class="table-of-contents__link">Node Exporter</a><ul><li><a href="#install-node-exporter" class="table-of-contents__link">Node Exporter installieren</a></li><li><a href="#create-a-systemd-service" class="table-of-contents__link">Einen Systemd Service erstellen</a></li><li><a href="#add-scrape-job-for-node-exporter" class="table-of-contents__link">Scrape Job für Node Exporter hinzufügen</a></li></ul></li><li><a href="#grafana-setup" class="table-of-contents__link">Grafana Setup</a><ul><li><a href="#install-grafana" class="table-of-contents__link">Grafana installieren</a></li><li><a href="#accessing-the-web-interface" class="table-of-contents__link">Die Benutzeroberfläche aufrufen</a></li><li><a href="#configuring-the-datasource" class="table-of-contents__link">Die Datenquelle konfigurieren</a></li><li><a href="#importing-the-dashboard" class="table-of-contents__link">Das Dashboard importieren</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/HDNPFFrcnW" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/hydra_dx" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2021 Intergalactic, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/de/assets/js/runtime~main.ee914b66.js"></script>
<script src="/de/assets/js/main.8e1790c5.js"></script>
</body>
</html>