"use strict";(self.webpackChunkhydra_dx_docs=self.webpackChunkhydra_dx_docs||[]).push([[114],{3905:function(e,a,n){n.d(a,{Zo:function(){return l},kt:function(){return m}});var t=n(7294);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function o(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function i(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?o(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function s(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=t.createContext({}),c=function(e){var a=t.useContext(d),n=a;return e&&(n="function"==typeof e?e(a):i(i({},a),e)),n},l=function(e){var a=c(e.components);return t.createElement(d.Provider,{value:a},e.children)},u={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},p=t.forwardRef((function(e,a){var n=e.components,r=e.mdxType,o=e.originalType,d=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),p=c(n),m=r,v=p["".concat(d,".").concat(m)]||p[m]||u[m]||o;return n?t.createElement(v,i(i({ref:a},l),{},{components:n})):t.createElement(v,i({ref:a},l))}));function m(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=p;var s={};for(var d in a)hasOwnProperty.call(a,d)&&(s[d]=a[d]);s.originalType=e,s.mdxType="string"==typeof e?e:r,i[1]=s;for(var c=2;c<o;c++)i[c]=n[c];return t.createElement.apply(null,i)}return t.createElement.apply(null,n)}p.displayName="MDXCreateElement"},3988:function(e,a,n){n.r(a),n.d(a,{frontMatter:function(){return s},contentTitle:function(){return d},metadata:function(){return c},toc:function(){return l},default:function(){return p}});var t=n(3117),r=n(102),o=(n(7294),n(3905)),i=(n(4996),["components"]),s={id:"node_setup",title:"Configurar un nodo HydraDX"},d=void 0,c={unversionedId:"node_setup",id:"node_setup",title:"Configurar un nodo HydraDX",description:"Esta secci\xf3n lo gu\xeda a trav\xe9s del proceso de configuraci\xf3n y ejecuci\xf3n de un nodo HydraDX.",source:"@site/i18n/es/docusaurus-plugin-content-docs/current/node_setup.md",sourceDirName:".",slug:"/node_setup",permalink:"/es/node_setup",editUrl:"https://github.com/galacticcouncil/HydraDX-docs/edit/main/docs/node_setup.md",tags:[],version:"current",frontMatter:{id:"node_setup",title:"Configurar un nodo HydraDX"},sidebar:"sidebar",previous:{title:"Omnipool Design",permalink:"/es/omnipool_design"},next:{title:"Benchmark de desempe\xf1o",permalink:"/es/performance_benchmark"}},l=[{value:"00 Especificaciones t\xe9cnica requeridas",id:"00-required-technical-specifications",children:[],level:2},{value:"01 Compruebe si el reloj de su sistema est\xe1 sincronizado",id:"01-check-whether-your-system-clock-is-synchronized",children:[],level:2},{value:"02 Ajusta la configuraci\xf3n de tu firewall",id:"02-adjust-your-firewall-settings",children:[],level:2},{value:"03 Descarga o crea un binario",id:"03-download-or-build-a-binary",children:[],level:2},{value:"04 Corre el Binario",id:"04-run-the-binary",children:[],level:2},{value:"05 Ejecutando con systemd",id:"05-running-with-systemd",children:[],level:2}],u={toc:l};function p(e){var a=e.components,n=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,t.Z)({},u,n,{components:a,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"Esta secci\xf3n lo gu\xeda a trav\xe9s del proceso de configuraci\xf3n y ejecuci\xf3n de un nodo HydraDX."),(0,o.kt)("div",{className:"admonition admonition-warning alert alert--danger"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"}))),"warning")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"La ejecuci\xf3n de un nodo de validaci\xf3n requiere un cierto conjunto de habilidades t\xe9cnicas necesarias para la configuraci\xf3n adecuada del nodo y para garantizar su tiempo de actividad. Si no est\xe1 seguro de lo que est\xe1 haciendo aqu\xed, le recomendamos que ",(0,o.kt)("a",{parentName:"p",href:"/start_nominating"},"nomine su HDX")," a un validador experimentado. Al hacerlo, se protege a s\xed mismo y a sus nominadores contra una p\xe9rdida involuntaria de fondos."))),(0,o.kt)("h2",{id:"00-required-technical-specifications"},"00 Especificaciones t\xe9cnica requeridas"),(0,o.kt)("p",null,"Las siguientes especificaciones t\xe9cnicas son necesarias como m\xednimo para ejecutar un nodo validador HydraDX:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"OS: Ubuntu 20.04"),(0,o.kt)("li",{parentName:"ul"},"CPU: Intel Core i7-7700K @ 4.5Ghz (o rendimiento equivalente de un solo n\xfacleo)"),(0,o.kt)("li",{parentName:"ul"},"Memory: 64GB RAM"),(0,o.kt)("li",{parentName:"ul"},"Storage: SSD NVMe con una capacidad de al menos 200 GB (la huella de datos aumentar\xe1 con el tiempo)")),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Estos son los requisitos t\xe9cnicos m\xednimos que han sido verificados por el equipo. \xbfQuiere asegurarse de que su m\xe1quina tenga recursos suficientes para ejecutar un nodo? Ejecute una ",(0,o.kt)("a",{parentName:"p",href:"/performance_benchmark"},"evaluaci\xf3n comparativa de rendimiento")," para averiguarlo."))),(0,o.kt)("h2",{id:"01-check-whether-your-system-clock-is-synchronized"},"01 Compruebe si el reloj de su sistema est\xe1 sincronizado"),(0,o.kt)("p",null,"Antes de ejecutar un nodo, debe asegurarse de que el reloj de su sistema est\xe9 sincronizado; esto es importante porque los validadores trabajan juntos. En Ubuntu 20.04, el reloj del sistema deber\xeda estar sincronizado de forma predeterminada. Para verificar, ejecute el siguiente comando y verifique el resultado:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},'$ timedatectl | grep "System clock"\nSystem clock synchronized: yes\n')),(0,o.kt)("p",null,"Si el resultado es diferente, puede instalar NTP manualmente y verificar nuevamente que el reloj de su sistema est\xe9 sincronizado:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ apt install ntp\n$ ntpq -p\n")),(0,o.kt)("h2",{id:"02-adjust-your-firewall-settings"},"02 Ajusta la configuraci\xf3n de tu firewall"),(0,o.kt)("p",null,"El puerto ",(0,o.kt)("inlineCode",{parentName:"p"},"30333")," se utiliza para conexiones peer-to-peer  con otros nodos. Si est\xe1 ejecutando el nodo como validador, le recomendamos que configure un firewall y lo configure para exponer solo este puerto para conexiones remotas."),(0,o.kt)("p",null,"Si ",(0,o.kt)("em",{parentName:"p"},"no")," est\xe1 ejecutando el nodo como validador, tambi\xe9n puede considerar exponer ",(0,o.kt)("inlineCode",{parentName:"p"},"9944")," (para conexiones de websocket RPC con aplicaciones externas) y ",(0,o.kt)("inlineCode",{parentName:"p"},"9933")," (para solicitudes HTTP a su nodo). Puede usar el puerto ",(0,o.kt)("inlineCode",{parentName:"p"},"9944")," para conectarse a su nodo con ",(0,o.kt)("a",{parentName:"p",href:"/polkadotjs_apps_local"},"Polkadot/apps"),"."),(0,o.kt)("h2",{id:"03-download-or-build-a-binary"},"03 Descarga o crea un binario"),(0,o.kt)("p",null,"Puede descargar un archivo binario de nuestra \xfaltima versi\xf3n en ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/galacticcouncil/HydraDX-node/releases"},"github"),"."),(0,o.kt)("p",null,"Alternativamente, puede construir el binario desde la fuente:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# Install dependencies\n$ curl https://getsubstrate.io -sSf | bash -s -- --fast\n\n# Fetch source of the latest stable release\n$ git clone https://github.com/galacticcouncil/HydraDX-node -b stable\n\n# Build the binary\n$ cd HydraDX-node/\n$ cargo build --release\n")),(0,o.kt)("p",null,"Si construy\xf3 el binario siguiendo los pasos anteriores, la ruta a su binario es:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"target/release/hydra-dx\n")),(0,o.kt)("h2",{id:"04-run-the-binary"},"04 Corre el Binario"),(0,o.kt)("p",null,"Puede ejecutar el binario ejecutando el siguiente comando:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ {PATH_TO_YOUR_BINARY} --chain lerna --name {YOUR_NODE_NAME} --validator\n")),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Los nodos de validaci\xf3n requieren toda la base de datos de la cadena. Si ejecut\xf3 el nodo antes sin el indicador ",(0,o.kt)("inlineCode",{parentName:"p"},"--validator"),", necesitar\xe1 resincronizar la base de datos purgando la cadena antes de lanzar el nodo."),(0,o.kt)("pre",{parentName:"div"},(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ {PATH_TO_YOUR_BINARY} purge-chain --chain lerna\n")))),(0,o.kt)("p",null,"Adem\xe1s de la ruta a su binario (ver arriba), debe especificar un nombre de nodo que se utilizar\xe1 para identificar su nodo en ",(0,o.kt)("a",{parentName:"p",href:"https://telemetry.hydradx.io/#/HydraDX%20Snakenet%20Gen2"},"Telemetry")," donde puede encontrar una lista de todos los nodos que se ejecutan en HydraDX Snakenet."),(0,o.kt)("h2",{id:"05-running-with-systemd"},"05 Ejecutando con systemd"),(0,o.kt)("p",null,"Para asegurarse de que su nodo se inicie autom\xe1ticamente cuando su m\xe1quina se reinicia, recomendamos ejecutar el nodo HydraDX como un proceso systemd. Para hacerlo, cree el siguiente archivo e inserte el contenido mientras reemplaza las variables indicadas como ",(0,o.kt)("inlineCode",{parentName:"p"},"{VARIABLE}"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"$ touch /etc/systemd/system/hydradx-validator.service\n")),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre"},"[Unit]\nDescription=HydraDX validator\n\n[Service]\nType=exec\nUser={UNIX_USER}\nExecStart={PATH_TO_YOUR_BINARY} --chain lerna --name {YOUR_NODE_NAME} --validator\nRestart=always\nRestartSec=120\n\n[Install]\nWantedBy=multi-user.target\n")),(0,o.kt)("div",{className:"admonition admonition-note alert alert--secondary"},(0,o.kt)("div",{parentName:"div",className:"admonition-heading"},(0,o.kt)("h5",{parentName:"div"},(0,o.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,o.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,o.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"}))),"note")),(0,o.kt)("div",{parentName:"div",className:"admonition-content"},(0,o.kt)("p",{parentName:"div"},"Se recomienda configurar RestartSec porque retrasa el reinicio del nodo en caso de un bloqueo. Esto permite que los datos no persistentes (como los votos de consenso) se escriban en el disco antes de que se reinicie el nodo. Reiniciar el nodo inmediatamente despu\xe9s de que se haya bloqueado puede causar equ\xedvocos o doble firma, lo que eventualmente resulta en una reducci\xf3n."))),(0,o.kt)("p",null,"Despu\xe9s de crear el archivo de configuraci\xf3n, puede interactuar con su nodo validador HydraDX como un proceso del sistema:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-bash"},"# Start the node at system boot\n$ systemctl enable hydradx-validator.service\n\n# Start the node manually\n$ systemctl start hydradx-validator.service\n\n# Check the status of the node\n$ systemctl status hydradx-validator.service\n\n# Check the logs of the node\n$ journalctl -f -u hydradx-validator.service\n")),(0,o.kt)("p",null,"\xa1Su nodo HydraDX ahora est\xe1 configurado y funcionando!"),(0,o.kt)("p",null,"Ahora puede completar los \xfaltimos pasos para ",(0,o.kt)("a",{parentName:"p",href:"/start_validating"},"comenzar a validar"),"."))}p.isMDXComponent=!0}}]);